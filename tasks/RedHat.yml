---
- fail: msg="CentOS 8 is not supported"
  when: ansible_distribution_major_version == "8"

- block:
  - name: Add Mesosphere repo in RedHat 6
    yum: pkg=http://repos.mesosphere.com/el/6/noarch/RPMS/mesosphere-el-repo-6-2.noarch.rpm state=present

  - name: Install mesos package in RedHat 6
    yum: name=mesos,wget,java-1.7.0-openjdk update_cache=yes

  when: ansible_distribution_major_version == "6"

- block:
  - name: Add Mesosphere repo in RedHat 7
    yum: pkg=http://repos.mesosphere.com/el/7/noarch/RPMS/mesosphere-el-repo-7-3.noarch.rpm state=present

  - name: Install mesos package in RedHat 7
    yum: name=mesos,wget update_cache=yes

  when: ansible_distribution_major_version == "7"
